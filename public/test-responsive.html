<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Test Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { margin-bottom: 20px; color: #333; }
    .test-section {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      margin-bottom: 15px;
      color: #4f46e5;
      font-size: 18px;
    }
    .result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-family: monospace;
      font-size: 14px;
    }
    .pass { background: #d1fae5; color: #065f46; }
    .fail { background: #fee2e2; color: #991b1b; }
    .info { background: #dbeafe; color: #1e40af; }
    button {
      background: #4f46e5;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    button:hover { background: #4338ca; }
    .viewport-sizes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }
    .viewport-btn {
      padding: 10px;
      background: #f3f4f6;
      border: 2px solid #e5e7eb;
      border-radius: 6px;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    .viewport-btn:hover {
      background: #4f46e5;
      color: white;
      border-color: #4f46e5;
    }
    .metric {
      display: inline-block;
      padding: 8px 12px;
      margin: 5px;
      background: #f3f4f6;
      border-radius: 4px;
      font-size: 14px;
    }
    .metric strong { color: #4f46e5; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }
    th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    .status-icon {
      font-size: 20px;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üì± Responsive Test Dashboard</h1>
    
    <div class="test-section">
      <h2>üéØ Quick Tests</h2>
      <button onclick="runAllTests()">Run All Tests</button>
      <button onclick="checkOverflow()">Check Overflow</button>
      <button onclick="checkTouchTargets()">Check Touch Targets</button>
      <button onclick="checkImages()">Check Images</button>
      <button onclick="checkAccessibility()">Check Accessibility</button>
      <div id="quick-results"></div>
    </div>

    <div class="test-section">
      <h2>üìê Test Viewport Sizes</h2>
      <p style="margin-bottom: 10px;">Click to open your site at different viewport widths:</p>
      <div class="viewport-sizes">
        <div class="viewport-btn" onclick="openViewport(320)">
          <strong>320px</strong><br>iPhone SE
        </div>
        <div class="viewport-btn" onclick="openViewport(375)">
          <strong>375px</strong><br>iPhone 12/13
        </div>
        <div class="viewport-btn" onclick="openViewport(425)">
          <strong>425px</strong><br>Large Phone
        </div>
        <div class="viewport-btn" onclick="openViewport(768)">
          <strong>768px</strong><br>iPad Portrait
        </div>
        <div class="viewport-btn" onclick="openViewport(1024)">
          <strong>1024px</strong><br>iPad Landscape
        </div>
        <div class="viewport-btn" onclick="openViewport(1440)">
          <strong>1440px</strong><br>Desktop
        </div>
      </div>
    </div>

    <div class="test-section">
      <h2>üìä Current Viewport Info</h2>
      <div id="viewport-info"></div>
    </div>

    <div class="test-section">
      <h2>üîç Detailed Test Results</h2>
      <div id="detailed-results"></div>
    </div>

    <div class="test-section">
      <h2>üìã Testing Checklist</h2>
      <table>
        <thead>
          <tr>
            <th>Test</th>
            <th>Status</th>
            <th>Details</th>
          </tr>
        </thead>
        <tbody id="checklist"></tbody>
      </table>
    </div>
  </div>

  <script>
    const siteUrl = window.location.origin;

    function updateViewportInfo() {
      const info = document.getElementById('viewport-info');
      const width = window.innerWidth;
      const height = window.innerHeight;
      const breakpoint = width < 640 ? 'Mobile' : 
                        width < 768 ? 'Small Tablet' :
                        width < 1024 ? 'Tablet' :
                        width < 1280 ? 'Laptop' : 'Desktop';
      
      info.innerHTML = `
        <div class="metric"><strong>Width:</strong> ${width}px</div>
        <div class="metric"><strong>Height:</strong> ${height}px</div>
        <div class="metric"><strong>Breakpoint:</strong> ${breakpoint}</div>
        <div class="metric"><strong>Device Pixel Ratio:</strong> ${window.devicePixelRatio}</div>
        <div class="metric"><strong>Orientation:</strong> ${width > height ? 'Landscape' : 'Portrait'}</div>
      `;
    }

    function openViewport(width) {
      const height = Math.round(width * 1.5);
      window.open(siteUrl, '_blank', `width=${width},height=${height}`);
    }

    function checkOverflow() {
      const results = document.getElementById('quick-results');
      const hasOverflow = document.documentElement.scrollWidth > document.documentElement.clientWidth;
      
      results.innerHTML = `
        <div class="result ${hasOverflow ? 'fail' : 'pass'}">
          <span class="status-icon">${hasOverflow ? '‚ùå' : '‚úÖ'}</span>
          <strong>Horizontal Overflow:</strong> ${hasOverflow ? 'FOUND - Fix required!' : 'None - Perfect!'}
          ${hasOverflow ? `<br>Page width: ${document.documentElement.scrollWidth}px, Viewport: ${document.documentElement.clientWidth}px` : ''}
        </div>
      `;
    }

    function checkTouchTargets() {
      const results = document.getElementById('quick-results');
      const elements = Array.from(document.querySelectorAll('button, a, input, [role="button"]'));
      const smallTargets = elements.filter(el => {
        const rect = el.getBoundingClientRect();
        return rect.height > 0 && (rect.height < 44 || rect.width < 44);
      });
      
      const pass = smallTargets.length === 0;
      results.innerHTML = `
        <div class="result ${pass ? 'pass' : 'fail'}">
          <span class="status-icon">${pass ? '‚úÖ' : '‚ö†Ô∏è'}</span>
          <strong>Touch Targets:</strong> ${smallTargets.length} elements smaller than 44px
          ${pass ? ' - All targets are touch-friendly!' : ' - Some targets need adjustment'}
        </div>
        ${!pass ? `<div class="result info">Small targets found: ${smallTargets.map(el => el.tagName + (el.className ? '.' + el.className.split(' ')[0] : '')).join(', ')}</div>` : ''}
      `;
    }

    function checkImages() {
      const results = document.getElementById('quick-results');
      const images = Array.from(document.images);
      const withLazy = images.filter(img => img.loading === 'lazy');
      const withAlt = images.filter(img => img.alt);
      const oversized = images.filter(img => {
        const rect = img.getBoundingClientRect();
        return rect.width > img.parentElement.clientWidth;
      });
      
      results.innerHTML = `
        <div class="result ${oversized.length === 0 ? 'pass' : 'fail'}">
          <span class="status-icon">${oversized.length === 0 ? '‚úÖ' : '‚ö†Ô∏è'}</span>
          <strong>Images:</strong> ${images.length} total
        </div>
        <div class="result info">
          <strong>Lazy Loading:</strong> ${withLazy.length}/${images.length} images
          <br><strong>Alt Text:</strong> ${withAlt.length}/${images.length} images
          <br><strong>Oversized:</strong> ${oversized.length} images
        </div>
      `;
    }

    function checkAccessibility() {
      const results = document.getElementById('quick-results');
      const hasSkipLink = !!document.querySelector('.skip-link, [href="#main"]');
      const hasAriaLabels = document.querySelectorAll('[aria-label]').length;
      const hasHeadings = document.querySelectorAll('h1, h2, h3').length;
      const hasLandmarks = document.querySelectorAll('nav, main, footer, header').length;
      
      results.innerHTML = `
        <div class="result ${hasSkipLink ? 'pass' : 'fail'}">
          <span class="status-icon">${hasSkipLink ? '‚úÖ' : '‚ùå'}</span>
          <strong>Skip Link:</strong> ${hasSkipLink ? 'Present' : 'Missing'}
        </div>
        <div class="result info">
          <strong>ARIA Labels:</strong> ${hasAriaLabels} elements
          <br><strong>Headings:</strong> ${hasHeadings} elements
          <br><strong>Landmarks:</strong> ${hasLandmarks} elements (nav, main, footer, header)
        </div>
      `;
    }

    function runAllTests() {
      const detailed = document.getElementById('detailed-results');
      const checklist = document.getElementById('checklist');
      
      // Run all checks
      const hasOverflow = document.documentElement.scrollWidth > document.documentElement.clientWidth;
      const elements = Array.from(document.querySelectorAll('button, a, input, [role="button"]'));
      const smallTargets = elements.filter(el => {
        const rect = el.getBoundingClientRect();
        return rect.height > 0 && (rect.height < 44 || rect.width < 44);
      });
      const images = Array.from(document.images);
      const withLazy = images.filter(img => img.loading === 'lazy');
      const withAlt = images.filter(img => img.alt);
      const hasSkipLink = !!document.querySelector('.skip-link, [href="#main"]');
      const hasMobileMenu = !!document.querySelector('[role="dialog"], .mobile-menu');
      
      // Update detailed results
      detailed.innerHTML = `
        <div class="result ${!hasOverflow ? 'pass' : 'fail'}">
          <span class="status-icon">${!hasOverflow ? '‚úÖ' : '‚ùå'}</span>
          <strong>Overflow Check:</strong> ${!hasOverflow ? 'PASS' : 'FAIL'}
        </div>
        <div class="result ${smallTargets.length === 0 ? 'pass' : 'fail'}">
          <span class="status-icon">${smallTargets.length === 0 ? '‚úÖ' : '‚ö†Ô∏è'}</span>
          <strong>Touch Targets:</strong> ${smallTargets.length === 0 ? 'PASS' : `${smallTargets.length} small targets`}
        </div>
        <div class="result ${withLazy.length > 0 ? 'pass' : 'info'}">
          <span class="status-icon">${withLazy.length > 0 ? '‚úÖ' : '‚ÑπÔ∏è'}</span>
          <strong>Lazy Loading:</strong> ${withLazy.length}/${images.length} images
        </div>
        <div class="result ${withAlt.length === images.length ? 'pass' : 'fail'}">
          <span class="status-icon">${withAlt.length === images.length ? '‚úÖ' : '‚ö†Ô∏è'}</span>
          <strong>Alt Text:</strong> ${withAlt.length}/${images.length} images
        </div>
        <div class="result ${hasSkipLink ? 'pass' : 'fail'}">
          <span class="status-icon">${hasSkipLink ? '‚úÖ' : '‚ùå'}</span>
          <strong>Skip Link:</strong> ${hasSkipLink ? 'Present' : 'Missing'}
        </div>
        <div class="result ${hasMobileMenu ? 'pass' : 'info'}">
          <span class="status-icon">${hasMobileMenu ? '‚úÖ' : '‚ÑπÔ∏è'}</span>
          <strong>Mobile Menu:</strong> ${hasMobileMenu ? 'Detected' : 'Not detected (check manually)'}
        </div>
      `;
      
      // Update checklist
      const tests = [
        { name: 'No horizontal scroll', pass: !hasOverflow, details: hasOverflow ? 'Fix overflow' : 'Perfect' },
        { name: 'Touch targets ‚â•44px', pass: smallTargets.length === 0, details: `${elements.length - smallTargets.length}/${elements.length} compliant` },
        { name: 'Images have alt text', pass: withAlt.length === images.length, details: `${withAlt.length}/${images.length} images` },
        { name: 'Lazy loading enabled', pass: withLazy.length > 0, details: `${withLazy.length}/${images.length} images` },
        { name: 'Skip link present', pass: hasSkipLink, details: hasSkipLink ? 'Found' : 'Add skip link' },
        { name: 'Mobile menu exists', pass: hasMobileMenu, details: hasMobileMenu ? 'Detected' : 'Check manually' },
        { name: 'Viewport meta tag', pass: true, details: 'Configured in layout.tsx' },
        { name: 'Semantic HTML', pass: document.querySelectorAll('nav, main, footer').length >= 3, details: 'Landmarks present' }
      ];
      
      checklist.innerHTML = tests.map(test => `
        <tr>
          <td>${test.name}</td>
          <td><span class="status-icon">${test.pass ? '‚úÖ' : '‚ùå'}</span></td>
          <td>${test.details}</td>
        </tr>
      `).join('');
    }

    // Initialize
    updateViewportInfo();
    window.addEventListener('resize', updateViewportInfo);
    
    // Auto-run tests on load
    setTimeout(runAllTests, 500);
  </script>
</body>
</html>
